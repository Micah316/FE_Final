{"ast":null,"code":"import React from 'react';\nimport _ from 'lodash';\nimport { getParamValues } from '../utils/functions';\n//Added componentDidMount method to access the URL parameters and store them in local storage\n//This is being called by passing the URL values in location.hash\nexport default class RedirectPage extends React.Component {\n  componentDidMount() {\n    const {\n      setExpiryTime,\n      history,\n      location\n    } = this.props;\n    try {\n      if (_.isEmpty(location.hash)) {\n        return history.push('/dashboard');\n      }\n      const access_token = getParamValues(location.hash);\n      const expiryTime = new Date().getTime() + access_token.expires_in * 1000;\n      localStorage.setItem('params', JSON.stringify(access_token));\n      localStorage.setItem('expiry_time', expiryTime);\n      setExpiryTime(expiryTime);\n      history.push('/dashboard');\n    } catch (error) {\n      history.push('/');\n    }\n  }\n  render() {\n    return null;\n  }\n}","map":{"version":3,"names":["React","_","getParamValues","RedirectPage","Component","componentDidMount","setExpiryTime","history","location","props","isEmpty","hash","push","access_token","expiryTime","Date","getTime","expires_in","localStorage","setItem","JSON","stringify","error","render"],"sources":["/Users/micahhartman/Bootcamp/Spotify_final/spotify-app/src/components/RedirectPage.js"],"sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport { getParamValues } from '../utils/functions';\n//Added componentDidMount method to access the URL parameters and store them in local storage\n//This is being called by passing the URL values in location.hash\nexport default class RedirectPage extends React.Component {\n  componentDidMount() {\n    const { setExpiryTime, history, location } = this.props;\n    try {\n      if (_.isEmpty(location.hash)) {\n        return history.push('/dashboard');\n      }\n      const access_token = getParamValues(location.hash);\n      const expiryTime = new Date().getTime() + access_token.expires_in * 1000;\n      localStorage.setItem('params', JSON.stringify(access_token));\n      localStorage.setItem('expiry_time', expiryTime);\n      setExpiryTime(expiryTime);\n      history.push('/dashboard');\n    } catch (error) {\n      history.push('/');\n    }\n  }\n\n  render() {\n    return null;\n  }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,CAAC,MAAM,QAAQ;AACtB,SAASC,cAAc,QAAQ,oBAAoB;AACnD;AACA;AACA,eAAe,MAAMC,YAAY,SAASH,KAAK,CAACI,SAAS,CAAC;EACxDC,iBAAiBA,CAAA,EAAG;IAClB,MAAM;MAAEC,aAAa;MAAEC,OAAO;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACC,KAAK;IACvD,IAAI;MACF,IAAIR,CAAC,CAACS,OAAO,CAACF,QAAQ,CAACG,IAAI,CAAC,EAAE;QAC5B,OAAOJ,OAAO,CAACK,IAAI,CAAC,YAAY,CAAC;MACnC;MACA,MAAMC,YAAY,GAAGX,cAAc,CAACM,QAAQ,CAACG,IAAI,CAAC;MAClD,MAAMG,UAAU,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAGH,YAAY,CAACI,UAAU,GAAG,IAAI;MACxEC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACR,YAAY,CAAC,CAAC;MAC5DK,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEL,UAAU,CAAC;MAC/CR,aAAa,CAACQ,UAAU,CAAC;MACzBP,OAAO,CAACK,IAAI,CAAC,YAAY,CAAC;IAC5B,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdf,OAAO,CAACK,IAAI,CAAC,GAAG,CAAC;IACnB;EACF;EAEAW,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI;EACb;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}