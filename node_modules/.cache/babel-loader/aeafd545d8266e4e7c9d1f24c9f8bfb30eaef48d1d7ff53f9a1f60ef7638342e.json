{"ast":null,"code":"import axios from 'axios';\n//Here I added a getParamValues function that will store the access_token\n//token_type and expires_in values in an object\nexport const getParamValues = url => {\n  return url.slice(1).split('&').reduce((prev, curr) => {\n    const [title, value] = curr.split('=');\n    prev[title] = value;\n    return prev;\n  }, {});\n};\n\n//This function will add the access_token to every axios API request\nexport const setAuthHeader = () => {\n  try {\n    const params = JSON.parse(localStorage.getItem('params'));\n    if (params) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${params.access_token}`;\n    }\n  } catch (error) {\n    console.log('Error setting auth', error);\n  }\n};","map":{"version":3,"names":["axios","getParamValues","url","slice","split","reduce","prev","curr","title","value","setAuthHeader","params","JSON","parse","localStorage","getItem","defaults","headers","common","access_token","error","console","log"],"sources":["/Users/micahhartman/Bootcamp/Spotify_final/spotify-app/src/utils/functions.js"],"sourcesContent":["\nimport axios from 'axios';\n//Here I added a getParamValues function that will store the access_token\n//token_type and expires_in values in an object\nexport const getParamValues = (url) => {\n  return url\n    .slice(1)\n    .split('&')\n    .reduce((prev, curr) => {\n      const [title, value] = curr.split('=');\n      prev[title] = value;\n      return prev;\n    }, {});\n};\n\n//This function will add the access_token to every axios API request\nexport const setAuthHeader = () => {\n  try {\n    const params = JSON.parse(localStorage.getItem('params'));\n    if (params) {\n      axios.defaults.headers.common[\n        'Authorization'\n      ] = `Bearer ${params.access_token}`;\n    }\n  } catch (error) {\n    console.log('Error setting auth', error);\n  }\n};"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA;AACA,OAAO,MAAMC,cAAc,GAAIC,GAAG,IAAK;EACrC,OAAOA,GAAG,CACPC,KAAK,CAAC,CAAC,CAAC,CACRC,KAAK,CAAC,GAAG,CAAC,CACVC,MAAM,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAK;IACtB,MAAM,CAACC,KAAK,EAAEC,KAAK,CAAC,GAAGF,IAAI,CAACH,KAAK,CAAC,GAAG,CAAC;IACtCE,IAAI,CAACE,KAAK,CAAC,GAAGC,KAAK;IACnB,OAAOH,IAAI;EACb,CAAC,EAAE,CAAC,CAAC,CAAC;AACV,CAAC;;AAED;AACA,OAAO,MAAMI,aAAa,GAAGA,CAAA,KAAM;EACjC,IAAI;IACF,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACzD,IAAIJ,MAAM,EAAE;MACVX,KAAK,CAACgB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAC3B,eAAe,CAChB,GAAI,UAASP,MAAM,CAACQ,YAAa,EAAC;IACrC;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;EAC1C;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}